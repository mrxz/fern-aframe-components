!function(o){"function"==typeof define&&define.amd?define(o):o()}((function(){"use strict";THREE.ShaderChunk.fog_pars_vertex="\n#ifdef USE_FOG\n\tvarying vec3 vFogPosition;\n#endif",THREE.ShaderChunk.fog_vertex="\n#ifdef USE_FOG\n\tvFogPosition =  worldPosition.xyz;\n#endif",THREE.ShaderChunk.fog_pars_fragment="\n#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying vec3 vFogPosition;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",THREE.ShaderChunk.fog_fragment="\n#ifdef USE_FOG\n\tfloat fogDepth = distance( cameraPosition, vFogPosition );\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif"}));
