!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(){let t=null;const e=["v2","v3","v4","quat","mat3","mat4","color"],s=[{caption:"Three.js allocs",values:e}],a={},r=()=>e.forEach((t=>a[t]=0));r();const n=t=>a[t]++;class o extends THREE.Vector2{constructor(){super(...arguments),n("v2")}}class c extends THREE.Vector3{constructor(){super(...arguments),n("v3")}}class i extends THREE.Vector4{constructor(){super(...arguments),n("v4")}}class l extends THREE.Quaternion{constructor(){super(...arguments),n("quat")}}class u extends THREE.Matrix3{constructor(){super(...arguments),n("mat3")}}class d extends THREE.Matrix4{constructor(){super(...arguments),n("mat4")}}class E extends THREE.Color{constructor(){super(...arguments),n("color")}}return{update:function(){e.forEach((e=>t(e).set(a[e]))),r()},start:function(){},end:function(){},attach:function(e){t=e,THREE.Vector2=o,THREE.Vector3=c,THREE.Vector4=i,THREE.Quaternion=l,THREE.Matrix3=u,THREE.Matrix4=d,THREE.Color=E},values:{v2:{caption:"Vector2"},v3:{caption:"Vector3"},v4:{caption:"Vector4"},quat:{caption:"Quaternion"},mat3:{caption:"Matrix3"},mat4:{caption:"Matrix4"},color:{caption:"Color"}},groups:s,fractions:[]}}function e(t){const e=window.threeStats(t);return e.values["renderer.info.render.calls"].over=150,e.values["renderer.info.render.triangles"].over=12e5,e}AFRAME.registerComponent("extra-stats",{schema:{three:{type:"boolean",default:!0},aframe:{type:"boolean",default:!0},threeAlloc:{type:"boolean",default:!0}},init:function(){const s=this.el;s.hasAttribute("stats")&&console.warn("Both 'stats' and 'extra-stats' are added, only one should be used at a time!");const a=[this.data.three?e(s.renderer):null,this.data.aframe?window.aframeStats(s):null,this.data.threeAlloc?t():null].filter((t=>null!==t));this.stats=new window.rStats({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:a}),this.statsEl=document.querySelector(".rs-base"),s.addEventListener("enter-vr",(()=>this.statsEl.classList.add("a-hidden"))),s.addEventListener("exit-vr",(()=>this.statsEl.classList.remove("a-hidden")))},tick:function(){this.stats&&(this.stats("rAF").tick(),this.stats("FPS").frame(),this.stats().update())}})}));
